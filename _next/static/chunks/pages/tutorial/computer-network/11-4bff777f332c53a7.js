(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3549],{9342:function(n,i,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/computer-network/11",function(){return l(9512)}])},9512:function(n,i,l){"use strict";l.r(i);var e=l(1527),s=l(6828),h=l(4579);function r(n){let i=Object.assign({h1:"h1",p:"p",ul:"ul",li:"li",blockquote:"blockquote",a:"a",h2:"h2",strong:"strong"},(0,h.ah)(),n.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.h1,{children:"拥塞/流量控制"}),"\n",(0,e.jsx)(i.p,{children:"拥塞的具体原因包括："}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"节点存储容量（缓冲区）不够"}),"\n",(0,e.jsx)(i.li,{children:"处理机速度太低"}),"\n",(0,e.jsx)(i.li,{children:"线路容量（带宽）不够"}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:"在不同的模型层，都需要在一定程度上解决该问题"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"在数据链路层，实现的是点对点的通信，双方缓冲区的大小根据滑动窗口协议而定"}),"\n",(0,e.jsx)(i.li,{children:"传输层实现的是端到端的通信，某一时刻，一台主机可能同时与多台主机建立了连接，多个连接必须有多组缓冲区，所以缓冲区的动态分配和管理策略与数据链路层相比较要复杂得多"}),"\n",(0,e.jsxs)(i.li,{children:["网络层直接面临拥塞（和链路层、传输层只在数据两端感受拥塞的结果不同），该层的拥塞控制由慢（预防性）到快（反应性）可以采用以下策略：","\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"网络供给"}),"\n",(0,e.jsx)(i.li,{children:"流量感知路由"}),"\n",(0,e.jsx)(i.li,{children:"准入控制：不再建立新的虚电路（虚电路：一条端到端的连接）"}),"\n",(0,e.jsx)(i.li,{children:"流量限制："}),"\n",(0,e.jsx)(i.li,{children:"负载脱落：直接丢包"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(i.h1,{children:"差错控制"}),"\n",(0,e.jsxs)(i.blockquote,{children:["\n",(0,e.jsx)(i.p,{children:(0,e.jsx)(i.a,{href:"https://blog.csdn.net/gao1440156051/article/details/9122207",children:"https://blog.csdn.net/gao1440156051/article/details/9122207"})}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:"为了避免数据的传输不出错，会："}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"通过带序确认和超时重传保证数据传递有序、不丢失、不重复"}),"\n",(0,e.jsx)(i.li,{children:"通过校验和保证数据不出错。"}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:"在链路层、网络层、传输层中需要差错控制。"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"链路层保证帧的可靠性，通过循环冗余检验 CRC 进行差错校验，如果出错就丢包"}),"\n",(0,e.jsx)(i.li,{children:"网络层保证 IP 协议中头部的可靠性，通过头部校验和保证 IP 数据报无误（比特的准确性由链路层保证）"}),"\n",(0,e.jsx)(i.li,{children:"传输层保证通过观察数据是否未收到，对底层进行确认和重传两个操作（只针对 TCP、UDP 不考虑重传）"}),"\n"]}),"\n",(0,e.jsx)(i.h1,{children:"单播&组播&广播"}),"\n","\n",(0,e.jsx)(i.h2,{id:"单播",children:"单播"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"链路层上的单播发生在任意两个有物理连接的设备（假设为 A - B）之间，在设备 A 上封帧，帧头包含源地址（A 设备 MAC 地址）和目的地址（B 设备 MAC 地址），即可将帧发送到 B 设备。"}),"\n",(0,e.jsxs)(i.li,{children:["网络层上的单播发生在任意两个有逻辑连接的设备之间。假设连接为 A-B-C，从 A 发送 IP 数据包到 C，会依次经过","\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"DNS 解析（根据域名解析 C 的 IP 地址，如果已经得知，可以忽略）"}),"\n",(0,e.jsx)(i.li,{children:"建立连接（TCP 协议要求，UDP 可略）"}),"\n",(0,e.jsx)(i.li,{children:"发送 IP 数据报，数据报通过下层链路层，ARP 协议、路由算法，经过多跳发送到目标设备（C）上。"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(i.h2,{id:"广播",children:"广播"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"链路层上的广播通过将目的 MAC 地址设置为全 1 实现。因为路由器不转发目的地址是广播地址的数据报，所以链路层广播只发生在本地网络（局域网）中。"}),"\n",(0,e.jsxs)(i.li,{children:["网络层上的广播通过将主机号对应的位设置全 1 实现。虽然是在网络层上广播，但是一般情况下广播只会发生在本地网络中，所以也称网络层上的广播为",(0,e.jsx)(i.strong,{children:"受限广播"}),"。"]}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:"? 虽然网络层上也可以设置广播，但广播的 IP 数据报一般也只是在局域网内传递，在网关处会被阻拦（除非路由器做了其他判断）。"}),"\n",(0,e.jsxs)(i.blockquote,{children:["\n",(0,e.jsxs)(i.p,{children:["参考 ",(0,e.jsx)(i.a,{href:"https://www.zhihu.com/question/20643350/answer/112565403",children:"https://www.zhihu.com/question/20643350/answer/112565403"}),", ",(0,e.jsx)(i.a,{href:"https://www.zhihu.com/question/20643350/answer/112565403",children:"https://www.zhihu.com/question/20643350/answer/112565403"})]}),"\n"]}),"\n",(0,e.jsx)(i.h2,{id:"组播igmp-协议",children:"组播（IGMP 协议）"}),"\n",(0,e.jsx)(i.p,{children:"组播（multicast）也叫多播。"}),"\n",(0,e.jsxs)(i.blockquote,{children:["\n",(0,e.jsx)(i.p,{children:(0,e.jsx)(i.a,{href:"https://zh.wikipedia.org/wiki/%E5%9B%A0%E7%89%B9%E7%BD%91%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE",children:"https://zh.wikipedia.org/wiki/%E5%9B%A0%E7%89%B9%E7%BD%91%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE"})}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:"IGMP（Internet Group Management Protocol，互联网组管理协议），用于组播。"}),"\n",(0,e.jsx)(i.h1,{children:"一次 HTTP 请求的过程"}),"\n",(0,e.jsx)(i.p,{children:"客户端视角："}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:["域名 DNS 解析","\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"依次从浏览器缓存、本地 DNS 服务器缓存、DNS 服务器中取 IP"}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(i.li,{children:"建立 TCP 连接，从服务器接收数据"}),"\n",(0,e.jsx)(i.li,{children:"发送/接收无连接的 UDP 数据报"}),"\n",(0,e.jsx)(i.li,{children:"浏览器解析数据，渲染页面"}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:"服务端视角："}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"接受来自客户端的请求"}),"\n",(0,e.jsx)(i.li,{children:"（可选）负载均衡"}),"\n",(0,e.jsx)(i.li,{children:"请求资源判断是否有权限，返回相应条件下的结果（和在服务端进行各种处理）"}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:"操作系统视角："}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"接收来自浏览器的软中断，执行系统调用，建立 socket 返回给上层应用"}),"\n",(0,e.jsxs)(i.li,{children:["通过 socket 和目标机器（服务器）进行 IO","\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"input: 当网卡产生硬中断时，从网卡接收数据"}),"\n",(0,e.jsx)(i.li,{children:"output: 从 socket 获取的数据写入到网卡中"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(i.h1,{children:"连接 wifi 的过程发生了什么"}),"\n",(0,e.jsx)(i.h1,{children:"ARP 表、路由表、Mac 表"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"路由表建立了当前设备中目的 IP 地址到下一跳地址的映射，用于网络层在网络间的转发，需要配合 ARP 表的使用"}),"\n",(0,e.jsx)(i.li,{children:"ARP 表建立了 IP 地址到 MAC 地址的映射，用于网络层向下注入到链路层"}),"\n",(0,e.jsx)(i.li,{children:"Mac 表建立了 Mac 地址到端口的映射，用于链路层内局域网下的转发"}),"\n"]})]})}l(3366),i.default=(0,s.j)({MDXContent:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,h.ah)(),n.components);return i?(0,e.jsx)(i,{...n,children:(0,e.jsx)(r,{...n})}):r(n)},pageOpts:{filePath:"pages/tutorial/computer-network/11.md",route:"/tutorial/computer-network/11",frontMatter:{authors:"sailist",date:"2022-11-06",description:"",draft:!1,title:"5.总结与辨析"},headings:[{depth:1,value:"拥塞/流量控制",id:"拥塞流量控制"},{depth:1,value:"差错控制",id:"差错控制"},{depth:1,value:"单播&组播&广播",id:"单播组播广播"},{depth:2,value:"单播",id:"单播"},{depth:2,value:"广播",id:"广播"},{depth:2,value:"组播（IGMP 协议）",id:"组播igmp-协议"},{depth:1,value:"一次 HTTP 请求的过程",id:"一次-http-请求的过程"},{depth:1,value:"连接 wifi 的过程发生了什么",id:"连接-wifi-的过程发生了什么"},{depth:1,value:"ARP 表、路由表、Mac 表",id:"arp-表路由表mac-表"}],title:"5.总结与辨析"},pageNextRoute:"/tutorial/computer-network/11"})}},function(n){n.O(0,[6828,9774,2888,179],function(){return n(n.s=9342)}),_N_E=n.O()}]);