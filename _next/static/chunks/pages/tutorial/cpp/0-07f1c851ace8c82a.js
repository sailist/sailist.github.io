(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1821],{4201:function(n,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/cpp/0",function(){return s(3793)}])},3793:function(n,e,s){"use strict";s.r(e);var i=s(1527),l=s(6828),c=s(4579);function r(n){let e=Object.assign({h1:"h1",ul:"ul",li:"li",code:"code",p:"p",h2:"h2",pre:"pre",span:"span"},(0,c.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{children:"函数指针"}),"\n",(0,i.jsx)(e.h1,{children:"数组与指针"}),"\n",(0,i.jsx)(e.h1,{children:"指针相关的意义解读"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int *p"}),"/",(0,i.jsx)(e.code,{children:"int (*p)"}),"/",(0,i.jsx)(e.code,{children:"(int *)p"}),"：三者一样，",(0,i.jsx)(e.code,{children:"p"})," 是 int 指针类型，",(0,i.jsx)(e.code,{children:"*p"})," 是 int 类型"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int **p"}),"/",(0,i.jsx)(e.code,{children:"int *(*p)"}),"/",(0,i.jsx)(e.code,{children:"(int *)*p"}),"：三者一样，",(0,i.jsx)(e.code,{children:"p"})," 是二维 int 指针类型，",(0,i.jsx)(e.code,{children:"*p"})," 是 int 指针 类型，",(0,i.jsx)(e.code,{children:"**p"})," 是 int 类型"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"带数组后缀的解读方法："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int *p[10]"}),": 可以看成 ",(0,i.jsx)(e.code,{children:"(int *)(p[10])"}),"，即 ",(0,i.jsx)(e.code,{children:"p"})," 是 10 长度数组变量，数组类型是 ",(0,i.jsx)(e.code,{children:"int *"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int **p[10]"}),": 可以看成 ",(0,i.jsx)(e.code,{children:"(int **)(p[10])"}),"，即 ",(0,i.jsx)(e.code,{children:"p"})," 是 10 长度数组变量，数组类型是 ",(0,i.jsx)(e.code,{children:"int **"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int (*p)[10]"}),"：可以看成 ",(0,i.jsx)(e.code,{children:"(int) ((*p)[10])"}),"，即 ",(0,i.jsx)(e.code,{children:"*p"})," 是 10 长度数组变量，p 是指向 10 长度数组变量类型的指针，数组元素类型是 int"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int (**p)[10]"}),": 可以看成 ",(0,i.jsx)(e.code,{children:"(int) ((**p)[10])"}),"，即 ",(0,i.jsx)(e.code,{children:"**p"})," 是 10 长度数组变量，数组元素类型是 int"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int *(*p)[10"}),": 可以看成 ",(0,i.jsx)(e.code,{children:"(int *)((*p)[10])"}),"，即 ",(0,i.jsx)(e.code,{children:"*p"})," 是 10 长度数组变量，数组元素类型是 ",(0,i.jsx)(e.code,{children:"int *"})]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"带函数后缀的解读方法："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int *p(int)"}),": 可以看成 ",(0,i.jsx)(e.code,{children:"(int *) (p(int))"}),"，即 ",(0,i.jsx)(e.code,{children:"p"})," 是函数类型，函数体是 ",(0,i.jsx)(e.code,{children:"(int)"}),"，返回类型是 ",(0,i.jsx)(e.code,{children:"int *"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int (*p)(int)"}),"：可以看成 ",(0,i.jsx)(e.code,{children:"(int) ((*p)(int))"}),"，即 ",(0,i.jsx)(e.code,{children:"*p"})," 是函数，",(0,i.jsx)(e.code,{children:"p"})," 是指向该函数类型的指针，函数体是 ",(0,i.jsx)(e.code,{children:"(int)"}),"，返回类型是 ",(0,i.jsx)(e.code,{children:"int"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int (*(*p)(int,int))(int)"}),"：将 ",(0,i.jsx)(e.code,{children:"(*p)(int,int)"}),"看成一个整体 ",(0,i.jsx)(e.code,{children:"pF"}),"，此时写作 ",(0,i.jsx)(e.code,{children:"int *pF(int)"}),"，pF 是一个函数指针，指向的函数体是 ",(0,i.jsx)(e.code,{children:"int"}),"，返回值是 ",(0,i.jsx)(e.code,{children:"int"}),"。因为 ",(0,i.jsx)(e.code,{children:"(*p)(int,int)"})," 中的 ",(0,i.jsx)(e.code,{children:"p"})," 是一个函数指针，所以 ",(0,i.jsx)(e.code,{children:"(*p)(int,int)"})," 的返回值是 pF 类型的函数指针。即对 ",(0,i.jsx)(e.code,{children:"p"})," 指针所指向的函数的调用会返回另一个函数指针。"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"带函数后缀和数组后缀的解读方法："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"int (*maths[2])()"})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"总结",children:"总结"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"对带数组后缀和指针前缀的类型，根据优先级加括号将类型声明分成两部分，那么第一部分是数组元素的类型，第二部分是变量名（或带指针的变量名）的类型。"}),"\n",(0,i.jsx)(e.li,{children:"对待函数体后缀和指针前缀的类型，根据优先级加括号将类型声明分成两部分，第一部分是函数的返回值"}),"\n"]}),"\n",(0,i.jsx)(e.h1,{children:"野指针"}),"\n",(0,i.jsx)(e.p,{children:"野指针指指针指向了一段非法的内存地址而不是 NULL 时的情况。"}),"\n",(0,i.jsx)(e.p,{children:"常见的出现场景包括："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"未初始化指针"}),"\n",(0,i.jsx)(e.li,{children:"free 内存未将指针置 0"}),"\n",(0,i.jsx)(e.li,{children:"指针计算越界时会出现野指针"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{"data-language":"cpp","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"cpp","data-theme":"default",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"p1;"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"p2 "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"malloc"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"100"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"free"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(p2);"})]})]})}),"\n",(0,i.jsx)(e.p,{children:"此外，指针操作超过了变量的作用范围。"}),"\n",(0,i.jsx)(e.pre,{"data-language":"cpp","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"cpp","data-theme":"default",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"foo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"A"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"p){"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    A a;"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    p "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"a;"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"main"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    A "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"p;"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"f"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(p);"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"p"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"->"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Func"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" // cout << p->value;"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})})]})}s(3366),e.default=(0,l.j)({MDXContent:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,c.ah)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(r,{...n})}):r(n)},pageOpts:{filePath:"pages/tutorial/cpp/0.md",route:"/tutorial/cpp/0",frontMatter:{authors:"sailist",date:"2022-10-21",description:"",draft:!1,title:"0.1.指针"},headings:[{depth:1,value:"函数指针",id:"函数指针"},{depth:1,value:"数组与指针",id:"数组与指针"},{depth:1,value:"指针相关的意义解读",id:"指针相关的意义解读"},{depth:2,value:"总结",id:"总结"},{depth:1,value:"野指针",id:"野指针"}],title:"0.1.指针"},pageNextRoute:"/tutorial/cpp/0"})}},function(n){n.O(0,[6828,9774,2888,179],function(){return n(n.s=4201)}),_N_E=n.O()}]);